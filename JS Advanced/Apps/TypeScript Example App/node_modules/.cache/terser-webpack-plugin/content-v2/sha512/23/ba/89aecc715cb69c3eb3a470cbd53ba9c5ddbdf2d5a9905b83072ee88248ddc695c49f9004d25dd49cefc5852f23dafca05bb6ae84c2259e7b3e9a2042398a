{"map":"{\"version\":3,\"sources\":[\"bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"sammy\",\"home\",\"hbs\",\"swap\",\"app\",\"sammy_default\",\"run\",\"__WEBPACK_AMD_DEFINE_FACTORY__\",\"__WEBPACK_AMD_DEFINE_ARRAY__\",\"__WEBPACK_AMD_DEFINE_RESULT__\",\"e\",\"Error\",\"code\",\"undefined\",\"$\",\"Sammy\",\"PATH_NAME_MATCHER\",\"QUERY_STRING_MATCHER\",\"_makeArray\",\"nonarray\",\"Array\",\"slice\",\"_isFunction\",\"obj\",\"toString\",\"_isArray\",\"_isRegExp\",\"_decode\",\"str\",\"decodeURIComponent\",\"replace\",\"_encode\",\"encodeURIComponent\",\"_escapeHTML\",\"String\",\"_routeWrapper\",\"verb\",\"this\",\"route\",\"apply\",\"concat\",\"arguments\",\"_template_cache\",\"_has_history\",\"window\",\"history\",\"pushState\",\"loggers\",\"selector\",\"args\",\"apps\",\"length\",\"shift\",\"Application\",\"element_selector\",\"each\",\"plugin\",\"use\",\"VERSION\",\"addLogger\",\"logger\",\"push\",\"log\",\"unshift\",\"Date\",\"console\",\"extend\",\"makeArray\",\"isFunction\",\"isArray\",\"escapeHTML\",\"h\",\"toHash\",\"json\",\"k\",\"v\",\"toHTML\",\"display\",\"keys\",\"attributes_only\",\"has\",\"trim\",\"join\",\"delimiter\",\"include_functions\",\"targetIsThisWindow\",\"event\",\"tagName\",\"targetElement\",\"target\",\"closest\",\"targetWindow\",\"attr\",\"top\",\"DefaultLocationProxy\",\"run_interval_every\",\"is_native\",\"has_history\",\"_startPolling\",\"fullPath\",\"location_obj\",\"matches\",\"match\",\"hash\",\"pathname\",\"search\",\"proxy\",\"lp\",\"eventNamespace\",\"non_native\",\"clearInterval\",\"_interval\",\"trigger\",\"disable_push_state\",\"document\",\"delegate\",\"isDefaultPrevented\",\"metaKey\",\"ctrlKey\",\"a\",\"full_path\",\"hostname\",\"createElement\",\"href\",\"location\",\"lookupRoute\",\"preventDefault\",\"setLocation\",\"_bindings\",\"unbind\",\"undelegate\",\"getLocation\",\"new_location\",\"test\",\"path\",\"title\",\"every\",\"hashCheck\",\"current_location\",\"_last_location\",\"setTimeout\",\"setInterval\",\"app_function\",\"routes\",\"listeners\",\"arounds\",\"befores\",\"namespace\",\"getTime\",\"parseInt\",\"Math\",\"random\",\"context_prototype\",\"EventContext\",\"_location_proxy\",\"setLocationProxy\",\"debug\",\"bindToAllEvents\",\"data\",\"cleaned_type\",\"ROUTE_VERBS\",\"APP_EVENTS\",\"_last_route\",\"_running\",\"raise_errors\",\"template_engine\",\"$element\",\"find\",\"plugin_name\",\"error\",\"new_proxy\",\"original_proxy\",\"isRunning\",\"add_route\",\"path_match\",\"param_names\",\"callback\",\"toLowerCase\",\"constructor\",\"lastIndex\",\"exec\",\"RegExp\",\"cb\",\"with_verb\",\"post\",\"put\",\"del\",\"any\",\"mapRoutes\",\"route_array\",\"route_args\",\"listener_callback\",\"context\",\"type\",\"_listen\",\"refresh\",\"last_location\",\"before\",\"options\",\"after\",\"around\",\"onComplete\",\"_onComplete\",\"helpers\",\"extensions\",\"helper\",\"method\",\"start_url\",\"callbacks\",\"_checkLocation\",\"_checkFormSubmission\",\"unload\",\"removeClass\",\"_unlisten\",\"destroy\",\"inArray\",\"routablePath\",\"routed\",\"runRoute\",\"params\",\"wrapped_route\",\"callback_args\",\"path_params\",\"final_returned\",\"_parseQueryString\",\"param\",\"splat\",\"returned\",\"nextRoute\",\"contextMatchesOptions\",\"last_route\",\"reverse\",\"last_wrapped_route\",\"notFound\",\"match_options\",\"positive\",\"isEmptyObject\",\"results\",\"numopt\",\"opts\",\"len\",\"matched\",\"only\",\"except\",\"path_matched\",\"verb_matched\",\"indexOf\",\"content\",\"$el\",\"html\",\"templateCache\",\"clearTemplateCache\",\"ret\",\"message\",\"original_error\",\"_getFormVerb\",\"form\",\"$_method\",\"$form\",\"val\",\"getAttribute\",\"_serializeFormParams\",\"_parseFormParams\",\"queryString\",\"fields\",\"serializeArray\",\"_encodeFormPair\",\"form_fields\",\"_parseParamPair\",\"parts\",\"pairs\",\"pair\",\"split\",\"RenderContext\",\"event_context\",\"previous_content\",\"next_engine\",\"waiting\",\"then\",\"wait\",\"next\",\"load\",\"should_cache\",\"cached\",\"is_json\",\"cache\",\"engineFor\",\"engine\",\"ajax\",\"url\",\"dataType\",\"success\",\"nodeType\",\"innerHTML\",\"clone\",\"remove\",\"loadPartials\",\"partials\",\"template\",\"render\",\"interpolate\",\"partial\",\"send\",\"fun\",\"response\",\"collect\",\"array\",\"now\",\"coll\",\"contents\",\"doms\",\"item\",\"jquery\",\"renderEach\",\"rctx\",\"idata\",\"retain\",\"prev\",\"rendered\",\"appendTo\",\"append\",\"prependTo\",\"prepend\",\"engine_match\",\"redirect\",\"to\",\"paths\",\"has_params\",\"string\",\"parseJSON\"],\"mappings\":\"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\"}","code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);var i=n(1);function o(t){t.swap(\"<h1>HOME PAGE</h1>\",(function(){}))}var r=n.n(i)()(\"#main\");r.get(\"#/\",o),r.get(\"#/home\",o),r.get(\"/\",o),r.run(\"#/\")},function(t,e,n){var i,o,r;o=[!function(){var t=new Error(\"Cannot find module 'jquery'\");throw t.code=\"MODULE_NOT_FOUND\",t}()],void 0===(r=\"function\"==typeof(i=function(t){var e,n=/:([\\w\\d]+)/g,i=/\\?([^#]*)?$/,o=function(t){return Array.prototype.slice.call(t)},r=function(t){return\"[object Function]\"===Object.prototype.toString.call(t)},a=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},s=function(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)},c=function(t){return decodeURIComponent((t||\"\").replace(/\\+/g,\" \"))},u=encodeURIComponent,h=function(t){return String(t).replace(/&(?!\\w+;)/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")},l=function(t){return function(){return this.route.apply(this,[t].concat(Array.prototype.slice.call(arguments)))}},p={},f=!(!window.history||!history.pushState),g=[];return(e=function(){var n,i,a=o(arguments);return e.apps=e.apps||{},0===a.length||a[0]&&r(a[0])?e.apply(e,[\"body\"].concat(a)):\"string\"==typeof(i=a.shift())?((n=e.apps[i]||new e.Application).element_selector=i,a.length>0&&t.each(a,(function(t,e){n.use(e)})),n.element_selector!=i&&delete e.apps[i],e.apps[n.element_selector]=n,n):void 0}).VERSION=\"0.7.6\",e.addLogger=function(t){g.push(t)},e.log=function(){var n=o(arguments);n.unshift(\"[\"+Date()+\"]\"),t.each(g,(function(t,i){i.apply(e,n)}))},void 0!==window.console?\"function\"==typeof window.console.log&&r(window.console.log.apply)?e.addLogger((function(){window.console.log.apply(window.console,arguments)})):e.addLogger((function(){window.console.log(arguments)})):\"undefined\"!=typeof console&&e.addLogger((function(){console.log.apply(console,arguments)})),t.extend(e,{makeArray:o,isFunction:r,isArray:a}),e.Object=function(e){return t.extend(this,e||{})},t.extend(e.Object.prototype,{escapeHTML:h,h:h,toHash:function(){var e={};return t.each(this,(function(t,n){r(n)||(e[t]=n)})),e},toHTML:function(){var e=\"\";return t.each(this,(function(t,n){r(n)||(e+=\"<strong>\"+t+\"</strong> \"+n+\"<br />\")})),e},keys:function(t){var e=[];for(var n in this)r(this[n])&&t||e.push(n);return e},has:function(e){return this[e]&&\"\"!==t.trim(this[e].toString())},join:function(){var t=o(arguments),e=t.shift();return t.join(e)},log:function(){e.log.apply(e,arguments)},toString:function(e){var n=[];return t.each(this,(function(t,i){r(i)&&!e||n.push('\"'+t+'\": '+i.toString())})),\"Sammy.Object: {\"+n.join(\",\")+\"}\"}}),e.targetIsThisWindow=function(e,n){var i=t(e.target).closest(n);if(0===i.length)return!0;var o=i.attr(\"target\");return!o||o===window.name||\"_self\"===o||\"_blank\"!==o&&\"top\"===o&&window===window.top},e.DefaultLocationProxy=function(t,e){this.app=t,this.is_native=!1,this.has_history=f,this._startPolling(e)},e.DefaultLocationProxy.fullPath=function(t){var e=t.toString().match(/^[^#]*(#.+)$/),n=e?e[1]:\"\";return[t.pathname,t.search,n].join(\"\")},t.extend(e.DefaultLocationProxy.prototype,{bind:function(){var n=this,i=this.app,o=e.DefaultLocationProxy;t(window).bind(\"hashchange.\"+this.app.eventNamespace(),(function(t,e){!1!==n.is_native||e||(n.is_native=!0,window.clearInterval(o._interval),o._interval=null),i.trigger(\"location-changed\")})),f&&!i.disable_push_state&&(t(window).bind(\"popstate.\"+this.app.eventNamespace(),(function(t){i.trigger(\"location-changed\")})),t(document).delegate(\"a\",\"click.history-\"+this.app.eventNamespace(),(function(t){if(!(t.isDefaultPrevented()||t.metaKey||t.ctrlKey)){var r,a,s=o.fullPath(this);return(this.hostname?this.hostname:(r=this,(a=document.createElement(\"a\")).href=r.href,a.hostname))==window.location.hostname&&i.lookupRoute(\"get\",s)&&e.targetIsThisWindow(t,\"a\")?(t.preventDefault(),n.setLocation(s),!1):void 0}}))),o._bindings||(o._bindings=0),o._bindings++},unbind:function(){t(window).unbind(\"hashchange.\"+this.app.eventNamespace()),t(window).unbind(\"popstate.\"+this.app.eventNamespace()),t(document).undelegate(\"a\",\"click.history-\"+this.app.eventNamespace()),e.DefaultLocationProxy._bindings--,e.DefaultLocationProxy._bindings<=0&&(window.clearInterval(e.DefaultLocationProxy._interval),e.DefaultLocationProxy._interval=null)},getLocation:function(){return e.DefaultLocationProxy.fullPath(window.location)},setLocation:function(t){if(/^([^#\\/]|$)/.test(t)&&(t=f&&!this.app.disable_push_state?\"/\"+t:\"#!/\"+t),t!=this.getLocation()){if(!f||this.app.disable_push_state||!/^\\//.test(t))return window.location=t;history.pushState({path:t},window.title,t),this.app.trigger(\"location-changed\")}},_startPolling:function(n){var i=this;if(!e.DefaultLocationProxy._interval){n||(n=10);var o=function(){var n=i.getLocation();void 0!==e.DefaultLocationProxy._last_location&&n==e.DefaultLocationProxy._last_location||window.setTimeout((function(){t(window).trigger(\"hashchange\",[!0])}),0),e.DefaultLocationProxy._last_location=n};o(),e.DefaultLocationProxy._interval=window.setInterval(o,n)}}}),e.Application=function(t){var n=this;this.routes={},this.listeners=new e.Object({}),this.arounds=[],this.befores=[],this.namespace=(new Date).getTime()+\"-\"+parseInt(1e3*Math.random(),10),this.context_prototype=function(){e.EventContext.apply(this,arguments)},this.context_prototype.prototype=new e.EventContext,r(t)&&t.apply(this,[this]),this._location_proxy||this.setLocationProxy(new e.DefaultLocationProxy(this,this.run_interval_every)),this.debug&&this.bindToAllEvents((function(t,e){n.log(n.toString(),t.cleaned_type,e||{})}))},e.Application.prototype=t.extend({},e.Object.prototype,{ROUTE_VERBS:[\"get\",\"post\",\"put\",\"delete\"],APP_EVENTS:[\"run\",\"unload\",\"lookup-route\",\"run-route\",\"route-found\",\"event-context-before\",\"event-context-after\",\"changed\",\"error\",\"check-form-submission\",\"redirect\",\"location-changed\"],_last_route:null,_location_proxy:null,_running:!1,element_selector:\"body\",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return\"Sammy.Application:\"+this.element_selector},$element:function(e){return e?t(this.element_selector).find(e):t(this.element_selector)},use:function(){var t=o(arguments),n=t.shift(),i=n||\"\";try{t.unshift(this),\"string\"==typeof n&&(i=\"Sammy.\"+n,n=e[n]),n.apply(this,t)}catch(t){void 0===n?this.error(\"Plugin Error: called use() but plugin (\"+i.toString()+\") is not defined\",t):r(n)?this.error(\"Plugin Error\",t):this.error(\"Plugin Error: called use() but '\"+i.toString()+\"' is not a function\",t)}return this},setLocationProxy:function(t){var e=this._location_proxy;this._location_proxy=t,this.isRunning()&&(e&&e.unbind(),this._location_proxy.bind())},log:function(){e.log.apply(e,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(e,i){var o,a,s=this,c=[],u=Array.prototype.slice.call(arguments,2);if(0===u.length&&r(i)&&(u=[i],i=e,e=\"any\"),e=e.toLowerCase(),i.constructor==String){for(n.lastIndex=0;null!==(a=n.exec(i));)c.push(a[1]);i=new RegExp(i.replace(n,\"([^/]+)\")+\"$\")}return t.each(u,(function(t,e){\"string\"==typeof e&&(u[t]=s[e])})),o=function(t){var e={verb:t,path:i,callback:u,param_names:c};s.routes[t]=s.routes[t]||[],s.routes[t].push(e)},\"any\"===e?t.each(this.ROUTE_VERBS,(function(t,e){o(e)})):o(e),this},get:l(\"get\"),post:l(\"post\"),put:l(\"put\"),del:l(\"delete\"),any:l(\"any\"),mapRoutes:function(e){var n=this;return t.each(e,(function(t,e){n.route.apply(n,e)})),this},eventNamespace:function(){return[\"sammy-app\",this.namespace].join(\"-\")},bind:function(t,e,n){var i=this;void 0===n&&(n=e);var o=function(){var t,e,o;t=arguments[0],(o=arguments[1])&&o.context?(e=o.context,delete o.context):e=new i.context_prototype(i,\"bind\",t.type,o,t.target),t.cleaned_type=t.type.replace(i.eventNamespace(),\"\"),n.apply(e,[t,o])};return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(o),this.isRunning()&&this._listen(t,o),this},trigger:function(t,e){return this.$element().trigger([t,this.eventNamespace()].join(\".\"),[e]),this},refresh:function(){return this.last_location=null,this.trigger(\"location-changed\"),this},before:function(t,e){return r(t)&&(e=t,t={}),this.befores.push([t,e]),this},after:function(t){return this.bind(\"event-context-after\",t)},around:function(t){return this.arounds.push(t),this},onComplete:function(t){return this._onComplete=t,this},isRunning:function(){return this._running},helpers:function(e){return t.extend(this.context_prototype.prototype,e),this},helper:function(t,e){return this.context_prototype.prototype[t]=e,this},run:function(n){if(this.isRunning())return!1;var i=this;return t.each(this.listeners.toHash(),(function(e,n){t.each(n,(function(t,n){i._listen(e,n)}))})),this.trigger(\"run\",{start_url:n}),this._running=!0,this.last_location=null,/\\#(.+)/.test(this.getLocation())||void 0===n||this.setLocation(n),this._checkLocation(),this._location_proxy.bind(),this.bind(\"location-changed\",(function(){i._checkLocation()})),this.bind(\"submit\",(function(n){return!e.targetIsThisWindow(n,\"form\")||!1===i._checkFormSubmission(t(n.target).closest(\"form\"))&&n.preventDefault()})),t(window).bind(\"unload\",(function(){i.unload()})),this.trigger(\"changed\")},unload:function(){if(!this.isRunning())return!1;var e=this;return this.trigger(\"unload\"),this._location_proxy.unbind(),this.$element().unbind(\"submit\").removeClass(e.eventNamespace()),t.each(this.listeners.toHash(),(function(n,i){t.each(i,(function(t,i){e._unlisten(n,i)}))})),this._running=!1,this},destroy:function(){return this.unload(),delete e.apps[this.element_selector],this},bindToAllEvents:function(e){var n=this;return t.each(this.APP_EVENTS,(function(t,i){n.bind(i,e)})),t.each(this.listeners.keys(!0),(function(i,o){-1==t.inArray(o,n.APP_EVENTS)&&n.bind(o,e)})),this},routablePath:function(t){return t.replace(i,\"\")},lookupRoute:function(t,e){var n,i,o=!1,r=0;if(void 0!==this.routes[t])for(n=this.routes[t].length;r<n;r++)if(i=this.routes[t][r],this.routablePath(e).match(i.path)){o=i;break}return o},runRoute:function(e,n,i,o){var r,a,s,u,h,l,p,f,g=this,d=this.lookupRoute(e,n);if(this.debug&&this.log(\"runRoute\",[e,n].join(\" \")),this.trigger(\"run-route\",{verb:e,path:n,params:i}),void 0===i&&(i={}),t.extend(i,this._parseQueryString(n)),d){this.trigger(\"route-found\",{route:d}),null!==(p=d.path.exec(this.routablePath(n)))&&(p.shift(),t.each(p,(function(t,e){d.param_names[t]?i[d.param_names[t]]=c(e):(i.splat||(i.splat=[]),i.splat.push(c(e)))}))),r=new this.context_prototype(this,e,n,i,o),s=this.arounds.slice(0),u=this.befores.slice(0),l=[r],i.splat&&(l=l.concat(i.splat)),a=function(){for(var t,e,n;u.length>0;)if(h=u.shift(),g.contextMatchesOptions(r,h[0])&&!1===(t=h[1].apply(r,[r])))return!1;return g.last_route=d,r.trigger(\"event-context-before\",{context:r}),\"function\"==typeof d.callback&&(d.callback=[d.callback]),d.callback&&d.callback.length&&(e=-1,n=function(){e++,d.callback[e]?t=d.callback[e].apply(r,l):g._onComplete&&(g._onComplete,1)&&g._onComplete(r)},l.push(n),n()),r.trigger(\"event-context-after\",{context:r}),t},t.each(s.reverse(),(function(t,e){var n=a;a=function(){return e.apply(r,[n])}}));try{f=a()}catch(t){this.error([\"500 Error\",e,n].join(\" \"),t)}return f}return this.notFound(e,n)},contextMatchesOptions:function(e,n,i){var o=n;if((\"string\"==typeof o||s(o))&&(o={path:o}),void 0===i&&(i=!0),t.isEmptyObject(o))return!0;if(a(o.path)){var r,c,u,h;for(r=[],c=0,h=o.path.length;c<h;c+=1)u=t.extend({},o,{path:o.path[c]}),r.push(this.contextMatchesOptions(e,u));var l=t.inArray(!0,r)>-1;return i?l:!l}if(o.only)return this.contextMatchesOptions(e,o.only,!0);if(o.except)return this.contextMatchesOptions(e,o.except,!1);var p=!0,f=!0;return o.path&&(s(o.path)||(o.path=new RegExp(o.path.toString()+\"$\")),p=o.path.test(e.path)),o.verb&&(f=\"string\"==typeof o.verb?o.verb===e.verb:o.verb.indexOf(e.verb)>-1),i?f&&p:!(f&&p)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(t){return this._location_proxy.setLocation(t)},swap:function(t,e){var n=this.$element().html(t);return r(e)&&e(t),n},templateCache:function(t,e){return void 0!==e?p[t]=e:p[t]},clearTemplateCache:function(){return p={}},notFound:function(t,e){var n=this.error([\"404 Not Found\",t,e].join(\" \"));return\"get\"!==t||n},error:function(t,e){if(e||(e=new Error),e.message=[t,e.message].join(\" \"),this.trigger(\"error\",{message:e.message,error:e}),this.raise_errors)throw e;this.log(e.message,e)},_checkLocation:function(){var t,e;return t=this.getLocation(),this.last_location&&\"get\"==this.last_location[0]&&this.last_location[1]==t||(this.last_location=[\"get\",t],e=this.runRoute(\"get\",t)),e},_getFormVerb:function(e){var n,i,o=t(e);return(i=o.find('input[name=\"_method\"]')).length>0&&(n=i.val()),n||(n=o[0].getAttribute(\"method\")),n&&\"\"!==n||(n=\"get\"),t.trim(n.toString().toLowerCase())},_checkFormSubmission:function(e){var n,i,o,r,a;return this.trigger(\"check-form-submission\",{form:e}),i=(n=t(e)).attr(\"action\")||\"\",o=this._getFormVerb(n),this.debug&&this.log(\"_checkFormSubmission\",n,i,o),\"get\"===o?(\"\"!==(r=this._serializeFormParams(n))&&(i+=\"?\"+r),this.setLocation(i),a=!1):(r=t.extend({},this._parseFormParams(n)),a=this.runRoute(o,i,r,e.get(0))),void 0!==a&&a},_serializeFormParams:function(t){var e,n=\"\",i=t.serializeArray();if(i.length>0)for(n=this._encodeFormPair(i[0].name,i[0].value),e=1;e<i.length;e++)n=n+\"&\"+this._encodeFormPair(i[e].name,i[e].value);return n},_encodeFormPair:function(t,e){return u(t)+\"=\"+u(e)},_parseFormParams:function(t){var e,n={},i=t.serializeArray();for(e=0;e<i.length;e++)n=this._parseParamPair(n,i[e].name,i[e].value);return n},_parseQueryString:function(t){var e,n,o,r,a={};if((e=t.match(i))&&e[1])for(n=e[1].split(\"&\"),r=0;r<n.length;r++)o=n[r].split(\"=\"),a=this._parseParamPair(a,c(o[0]),c(o[1]||\"\"));return a},_parseParamPair:function(t,e,n){return void 0!==t[e]?a(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n,t},_listen:function(t,e){return this.$element().bind([t,this.eventNamespace()].join(\".\"),e)},_unlisten:function(t,e){return this.$element().unbind([t,this.eventNamespace()].join(\".\"),e)}}),e.RenderContext=function(t){this.event_context=t,this.callbacks=[],this.previous_content=null,this.content=null,this.next_engine=!1,this.waiting=!1},e.RenderContext.prototype=t.extend({},e.Object.prototype,{then:function(t){if(!r(t)){if(\"string\"!=typeof t||!(t in this.event_context))return this;var e=this.event_context[t];t=function(t){return e.apply(this.event_context,[t])}}var n=this;return this.waiting?this.callbacks.push(t):(this.wait(),window.setTimeout((function(){var e=t.apply(n,[n.content,n.previous_content]);!1!==e&&n.next(e)}),0)),this},wait:function(){this.waiting=!0},next:function(t){this.waiting=!1,void 0!==t&&(this.previous_content=this.content,this.content=t),this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(e,n,i){var o=this;return this.then((function(){var a,s,c;return r(n)?(i=n,n={}):n=t.extend({},n),i&&this.then(i),\"string\"==typeof e?(c=e.match(/\\.json(\\?|$)/)||n.json,a=c?!0===n.cache:!1!==n.cache,o.next_engine=o.event_context.engineFor(e),delete n.cache,delete n.json,n.engine&&(o.next_engine=n.engine,delete n.engine),a&&(s=this.event_context.app.templateCache(e))?s:(this.wait(),t.ajax(t.extend({url:e,data:{},dataType:c?\"json\":\"text\",type:\"get\",success:function(t){a&&o.event_context.app.templateCache(e,t),o.next(t)}},n)),!1)):e.nodeType?e.innerHTML:e.selector?(o.next_engine=e.attr(\"data-engine\"),!1===n.clone?e.remove()[0].innerHTML.toString():e[0].innerHTML.toString()):void 0}))},loadPartials:function(t){var e;if(t)for(e in this.partials=this.partials||{},t)!function(e,n){e.load(t[n]).then((function(t){this.partials[n]=t}))}(this,e);return this},render:function(t,e,n,i){return r(t)&&!e?this.then(t):(r(e)?(i=n,n=e,e=null):n&&!r(n)&&(i=n,n=null),this.loadPartials(i).load(t).interpolate(e,t).then(n))},partial:function(t,e,n,i){return r(n)?this.render(t,e,i).swap(n):r(e)?this.render(t,{},n).swap(e):this.render(t,e,n).swap()},send:function(){var t=this,e=o(arguments),n=e.shift();return a(e[0])&&(e=e[0]),this.then((function(i){return e.push((function(e){t.next(e)})),t.wait(),n.apply(n,e),!1}))},collect:function(e,n,i){var o=this,a=function(){r(e)&&(n=e,e=this.content);var i=[],a=!1;return t.each(e,(function(t,e){var r=n.apply(o,[t,e]);return r.jquery&&1==r.length&&(r=r[0],a=!0),i.push(r),r})),a?i:i.join(\"\")};return i?a():this.then(a)},renderEach:function(e,n,i,o){return a(n)&&(o=i,i=n,n=null),this.load(e).then((function(r){var s=this;if(i||(i=a(this.previous_content)?this.previous_content:[]),!o)return this.collect(i,(function(t,i){var o={},a=this.next_engine||e;return n?o[n]=i:o=i,this.event_context.interpolate(r,o,a)}),!0);t.each(i,(function(t,i){var a={},c=this.next_engine||e;n?a[n]=i:a=i,o(i,s.event_context.interpolate(r,a,c))}))}))},interpolate:function(t,e,n){var i=this;return this.then((function(o,r){!t&&r&&(t=r),this.next_engine&&(e=this.next_engine,this.next_engine=!1);var a=i.event_context.interpolate(o,t,e,this.partials);return n?r+a:a}))},swap:function(t){return this.then((function(e){return this.event_context.swap(e,t),e})).trigger(\"changed\",{})},appendTo:function(e){return this.then((function(n){t(e).append(n)})).trigger(\"changed\",{})},prependTo:function(e){return this.then((function(n){t(e).prepend(n)})).trigger(\"changed\",{})},replace:function(e){return this.then((function(n){t(e).html(n)})).trigger(\"changed\",{})},trigger:function(t,e){return this.then((function(n){return void 0===e&&(e={content:n}),this.event_context.trigger(t,e),n}))}}),e.EventContext=function(t,n,i,o,r){this.app=t,this.verb=n,this.path=i,this.params=new e.Object(o),this.target=r},e.EventContext.prototype=t.extend({},e.Object.prototype,{$element:function(){return this.app.$element(o(arguments).shift())},engineFor:function(t){var e;return r(t)?t:((e=(t=(t||this.app.template_engine).toString()).match(/\\.([^\\.\\?\\#]+)(\\?|$)/))&&(t=e[1]),t&&r(this[t])?this[t]:this.app.template_engine?this.engineFor(this.app.template_engine):function(t,e){return t})},interpolate:function(t,e,n,i){return this.engineFor(n).apply(this,[t,e,i])},render:function(t,n,i,o){return new e.RenderContext(this).render(t,n,i,o)},renderEach:function(t,n,i,o){return new e.RenderContext(this).renderEach(t,n,i,o)},load:function(t,n,i){return new e.RenderContext(this).load(t,n,i)},loadPartials:function(t){return new e.RenderContext(this).loadPartials(t)},partial:function(t,n,i,o){return new e.RenderContext(this).partial(t,n,i,o)},send:function(){var t=new e.RenderContext(this);return t.send.apply(t,arguments)},redirect:function(){var e,n=o(arguments),i=this.app.getLocation(),r=n.length;if(r>1){for(var a=0,s=[],c=[],u={},h=!1;a<r;a++)\"string\"==typeof n[a]?s.push(n[a]):(t.extend(u,n[a]),h=!0);if(e=s.join(\"/\"),h){for(var l in u)c.push(this.app._encodeFormPair(l,u[l]));e+=\"?\"+c.join(\"&\")}}else e=n[0];this.trigger(\"redirect\",{to:e}),this.app.last_location=[this.verb,this.path],this.app.setLocation(e),new RegExp(e).test(i)&&this.app.trigger(\"location-changed\")},trigger:function(t,e){return void 0===e&&(e={}),e.context||(e.context=this),this.app.trigger(t,e)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(t,e){return this.app.swap(t,e)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(e){return t.parseJSON(e)},toString:function(){return\"Sammy.EventContext: \"+[this.verb,this.path,this.params].join(\" \")}}),e})?i.apply(e,o):i)||(t.exports=r)}]);","extractedComments":[]}